-- Table: dbo.STG_MON_CustMasterSchedule
-- Database: ORDERS
-- Purpose: [Add description of table purpose]
-- Dependencies: [List any dependent tables/views]

CREATE TABLE [dbo].[STG_MON_CustMasterSchedule] (
    [Title] NVARCHAR(MAX) NULL,
    [UpdateDate] NVARCHAR(MAX) NULL,
    [Group] NVARCHAR(MAX) NULL,
    [Subitems] NVARCHAR(MAX) NULL,
    [CUSTOMER] NVARCHAR(200) NULL,
    [AAG ORDER NUMBER] NVARCHAR(200) NULL,
    [AAG SEASON] NVARCHAR(200) NULL,
    [ORDER DATE PO RECEIVED] DATE NULL,
    [CUSTOMER SEASON] NVARCHAR(MAX) NULL,
    [DROP] NVARCHAR(MAX) NULL,
    [PO NUMBER] NVARCHAR(200) NULL,
    [CUSTOMER ALT PO] NVARCHAR(200) NULL,
    [STYLE] NVARCHAR(200) NULL,
    [STYLE DESCRIPTION] NVARCHAR(500) NULL,
    [ALIAS RELATED ITEM] NVARCHAR(200) NULL,
    [COLOR] NVARCHAR(200) NULL,
    [CATEGORY] NVARCHAR(MAX) NULL,
    [PATTERN ID] NVARCHAR(MAX) NULL,
    [UNIT OF MEASURE] NVARCHAR(MAX) NULL,
    [FCST QTY] BIGINT NULL,
    [FCST CONSUMED QTY] BIGINT NULL,
    [ORDER QTY] BIGINT NULL,
    [PACKED QTY] BIGINT NULL,
    [SHIPPED QTY] BIGINT NULL,
    [Net Demand] BIGINT NULL,
    [ORDER TYPE] NVARCHAR(MAX) NULL,
    [DESTINATION] NVARCHAR(MAX) NULL,
    [DESTINATION WAREHOUSE] NVARCHAR(MAX) NULL,
    [CUSTOMER REQ IN DC DATE] DATE NULL,
    [CUSTOMER EX FACTORY DATE] DATE NULL,
    [DELIVERY TERMS] NVARCHAR(MAX) NULL,
    [PLANNED DELIVERY METHOD] NVARCHAR(MAX) NULL,
    [NOTES] NVARCHAR(MAX) NULL,
    [CUSTOMER PRICE] FLOAT NULL,
    [USA ONLY LSTP 75% EX WORKS] FLOAT NULL,
    [EX WORKS (USD)] FLOAT NULL,
    [ADMINISTRATION FEE] FLOAT NULL,
    [DESIGN FEE] FLOAT NULL,
    [FX CHARGE] FLOAT NULL,
    [HANDLING] FLOAT NULL,
    [SURCHARGE FEE] FLOAT NULL,
    [DISCOUNT] FLOAT NULL,
    [FINAL FOB (USD)] FLOAT NULL,
    [HS CODE] NVARCHAR(MAX) NULL,
    [US DUTY RATE] FLOAT NULL,
    [US DUTY] FLOAT NULL,
    [FREIGHT] FLOAT NULL,
    [US TARIFF RATE] FLOAT NULL,
    [US TARIFF] FLOAT NULL,
    [DDP US (USD)] FLOAT NULL,
    [SMS PRICE USD] FLOAT NULL,
    [FINAL PRICES Y/N] NVARCHAR(MAX) NULL,
    [NOTES FOR PRICE] NVARCHAR(MAX) NULL,
    [Item ID] BIGINT NULL,
    [matchAlias] NVARCHAR(MAX) NULL,
    [PLANNING BOARD] NVARCHAR(MAX) NULL,
    [REQUESTED XFD STATUS] NVARCHAR(MAX) NULL,
    [EX-FTY (Change Request)] DATE NULL,
    [EX-FTY (Forecast)] DATE NULL,
    [EX-FTY (Partner PO)] DATE NULL,
    [EX-FTY (Revised LS)] DATE NULL,
    [PRODUCTION TYPE] NVARCHAR(MAX) NULL,
    [AQL INSPECTION] NVARCHAR(MAX) NULL,
    [AQL TYPE] NVARCHAR(MAX) NULL,
    [PLANNED CUT DATE] DATE NULL,
    [MO NUMBER] NVARCHAR(MAX) NULL,
    [PRODUCTION STATUS] NVARCHAR(MAX) NULL,
    [FACTORY COUNTRY] NVARCHAR(MAX) NULL,
    [FACTORY] NVARCHAR(MAX) NULL,
    [ALLOCATION STATUS] NVARCHAR(MAX) NULL,
    [PRODUCTION QTY] BIGINT NULL,
    [TRIM ETA DATE] DATE NULL,
    [FABRIC ETA DATE] DATE NULL,
    [TRIM STATUS] NVARCHAR(MAX) NULL,
    [ADD TO PLANNING] NVARCHAR(MAX) NULL,
    [FABRIC STATUS] NVARCHAR(MAX) NULL,
    [PPS STATUS] NVARCHAR(MAX) NULL,
    [PPS CMT DUE] DATE NULL,
    [PPS CMT RCV] DATE NULL,
    [REVENUE (FOB)] FLOAT NULL,
    [ORDER STATUS] NVARCHAR(MAX) NULL,
    [stg_id] BIGINT NOT NULL,
    [stg_batch_id] UNIQUEIDENTIFIER NOT NULL DEFAULT (newid()),
    [stg_customer_batch] NVARCHAR(100) NULL,
    [stg_status] NVARCHAR(50) NULL DEFAULT ('PENDING'),
    [stg_monday_item_id] BIGINT NULL,
    [stg_error_message] NVARCHAR(MAX) NULL,
    [stg_api_payload] NVARCHAR(MAX) NULL,
    [stg_retry_count] INT NULL DEFAULT ((0)),
    [stg_created_date] DATETIME2 NULL DEFAULT (getdate()),
    [stg_processed_date] DATETIME2 NULL,
    [RANGE / COLLECTION] NVARCHAR(200) NULL,
    [source_uuid] UNIQUEIDENTIFIER NULL,
    CONSTRAINT [PK_STG_MON_CustMasterSchedule] PRIMARY KEY ([stg_id])
);

-- Indexes
CREATE INDEX [IX_STG_MON_CustMasterSchedule_BatchId] ON [dbo].[STG_MON_CustMasterSchedule] ([stg_batch_id]);
CREATE INDEX [IX_STG_MON_CustMasterSchedule_CustomerBatch] ON [dbo].[STG_MON_CustMasterSchedule] ([stg_customer_batch]);
CREATE INDEX [IX_STG_MON_CustMasterSchedule_OrderNumber] ON [dbo].[STG_MON_CustMasterSchedule] ([AAG ORDER NUMBER]);
CREATE INDEX [IX_STG_MON_CustMasterSchedule_source_uuid] ON [dbo].[STG_MON_CustMasterSchedule] ([source_uuid]);
CREATE INDEX [IX_STG_MON_CustMasterSchedule_Status] ON [dbo].[STG_MON_CustMasterSchedule] ([stg_status]);
